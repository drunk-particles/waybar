@import "colors.css";

/* =========================================================
   BASE STYLE (RESTORED)
   ========================================================= */
* {
  color: @foreground;
  border: none;
  border-radius: 8px;
  font-family: 'CaskaydiaMono Nerd Font', 'JetBrainsMono Nerd Font';
  font-size: 13px;
  font-weight: 600;
}

window#waybar {
  background-color: transparent;
}

/* =========================================================
   PILL MERGING LOGIC (RESTORED SPACING)
   ========================================================= */

/* 1. Reset individual backgrounds for merged modules */
#cpu, #memory, 
#custom-cava, #custom-weather, #clock, #custom-updatespacman,
#network, #bluetooth, #pulseaudio, #battery {
  background: none;
  border: none;
  box-shadow: none;
  margin: 0;
  padding: 1px 10px; /* Slimmed vertical padding from 2px to 1px */
}

/* 2. MERGED LEFT PILL (CPU + Memory) */
.modules-left {
  background-color: @island-bg;
  border: 1px solid @island-border;
  border-radius: 11px;
  margin: 5px 4px;   
  padding: 0 4px;
}

/* 3. MERGED CENTER PILL (Cava + Weather + Clock + Updates) */
.modules-center {
  background-color: @island-bg;
  border: 1px solid @island-border;
  border-radius: 11px;
  margin: 5px 4px;
  padding: 0 4px;
}

/* 4. MERGED RIGHT PILL (Network + BT + Audio + Battery) */
.modules-right {
  background-color: @island-bg;
  border: 1px solid @island-border;
  border-radius: 11px;
  margin: 5px 4px;
  padding: 0 4px;
}

/* 5. STANDALONE MODULES (Slimmed vertical padding from 2px to 1px) */
#custom-omarchy, #mpris, #custom-cpucat, #custom-cava, #custom-exit {
  background-color: @island-bg;
  border: 1px solid @island-border;
  border-radius: 11px;
  margin: 5px 4px;
  padding: 1px 12px; 
}

/* =========================================================
   AESTHETIC POLISH & COLORS
   ========================================================= */
#clock { color: @mauve; }
#network { color: @blue; }
#pulseaudio { color: @sapphire; }
#battery { color: @green; }
#mpris { color: @pink; font-style: italic; }

#custom-cpucat { 
  font-family: "Waycat"; 
  color: @peach; 
  font-size: 22px; 
}

/* =========================================================
   TRAY EXPANDER (Drawer Styling)
   ========================================================= */

#tray-expander {
  background-color: transparent; /* Changed from @island-bg to transparent */
  border: none;
  box-shadow: none;
  opacity: 0; /* Make it completely invisible when closed */
  transition: opacity 0.3s ease-in-out, background-color 0.3s ease;
  margin: 5px 4px;
  padding: 1px 12px;
}

/* 2. Show the tray pill only when you hover over it or the entire bar */
window#waybar:hover #tray-expander,
#tray-expander:hover {
  opacity: 1;
  /* Re-apply the island background when visible */
  background-color: @island-bg; 
  border: 1px solid @island-border;
}

/* 3. Reset backgrounds for modules INSIDE the drawer (as before) */
.tray-group-item {
  background: none;
  border: none;
  box-shadow: none;
  margin: 0;
  padding: 0 8px;
}

/* 4. Handle specific modules inside the tray drawer (as before) */
#idle_inhibitor, #temperature, #backlight {
  background: none;
  border: none;
  box-shadow: none;
  padding: 0 6px;
}

/* 5. Fix hover for drawer items (as before) */
.tray-group-item:hover {
  background-color: @hover-tint;
  border-radius: 6px;
}

/* =========================================================
   WORKSPACES & STATES
   ========================================================= */
#workspaces button {
  color: alpha(@lavender, 0.3);
  padding: 0 6px;
}

#workspaces button.active {
  color: @mauve;
  border-bottom: 2px solid @mauve;
}

#battery.critical, #battery.warning {
  color: @red;
}

/* Hover Effect */
*:hover {
  background-color: @hover-tint;
}

tooltip {
  background: @mantle;
  border: 1px solid @island-border;
  border-radius: 8px;
}
